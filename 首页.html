<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<link rel="icon" href="img/favicon.ico" type="img/x-ico" />
		<link rel="stylesheet" href="css/index.css" />
		<title>德召文首页</title>

		
		<style>
			.el-header,
			.el-footer {
				background-color: #B3C0D1;
				color: #333;
				text-align: center;
				line-height: 60px;
				padding: 0px;
			}
		</style>
	</head>

	<body>
		<div id="hlsy" style=" box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.4)">
			<el-container>
				<el-header style="padding: 0px;">
					<el-menu :default-active="activeIndex2" class="el-menu-demo" mode="horizontal" @select="handleSelect" :background-color="backgroundcolor" :text-color="textcolor" :active-text-color="activetextcolor">
						<el-menu-item>
							<img src="img/logo.gif" width="160px" height="40px" />
						</el-menu-item>
						<el-menu-item index="1"><span class="el-icon-message-solid"></span>公告栏</el-menu-item>
						<el-menu-item index="2" class="xuanze">维修</el-menu-item>
						<el-menu-item index="3" class="xuanze">前台</el-menu-item>
						<el-menu-item index="4" class="xuanze">客服</el-menu-item>
						<el-menu-item index="5" class="xuanze">数据</el-menu-item>
						<el-menu-item index="6" class="xuanze">人事</el-menu-item>
						<el-menu-item index="7" @click="zti" class="xuanze"><span class="el-icon-s-grid"></span>{{zhuti}}</el-menu-item>
						<el-menu-item index="8" class="xuanze"><span class="el-icon-s-tools"></span>操作</el-menu-item>
					
						<el-dropdown style="float: right; margin-right: 100px;">
							<span class="el-dropdown-link">
								<span class="el-icon-s-custom"></span> {{staff.staffname}} {{staff.staffid}}
							</i>
							</span>
							<el-dropdown-menu slot="dropdown">
								<el-dropdown-item>个人信息</el-dropdown-item>
								<el-dropdown-item>注销</el-dropdown-item>

							</el-dropdown-menu>
						</el-dropdown>
					</el-menu>
				</el-header>
				<el-container>
					<el-aside width="200px" class="elaside">
						<el-row class="tac">
							<el-col :span="24">
								<!--:collapse="isCollapse"-->
								<el-menu default-active="1-4-1" class="el-menu-vertical-demo" @open="handleOpen" @close="handleClose" style="height: 700px;" :background-color="backgroundcolor" :text-color="textcolor" :active-text-color="activetextcolor">
									<!--首页显示营业报表,今日营业情况-->
									<el-menu-item index="1">
										<i class="el-icon-platform-eleme"></i>
										<span slot="title">首页</span>
									</el-menu-item>
									<!--<el-submenu index="2">	
										<template slot="title">
											<i class="el-icon-location"></i>
											<span slot="title">维修救援</span>
										</template>
										<el-menu-item index="1-1">维修接车</el-menu-item>
										<el-menu-item index="1-2">竣工检验</el-menu-item>
									</el-submenu>-->
								</el-menu>
							</el-col>
						</el-row>
					</el-aside>
					<el-main>
						<el-row>

						
									

							<el-col :span="22">
								<div class="grid-content bg-purple-dark nerong">
									

								</div>
							</el-col>
						</el-row>
					</el-main>
				</el-container>
				<el-footer style="background-color: white;">	
				<!--<img src="img/foot.png" width="1000px" height="200px" />-->
					<!--我是贺玲大帅逼-->
				</el-footer>
			</el-container>
		</div>
	</body>
	<script type="text/javascript" src="js/jquery-1.12.4.js"></script>
	<script type="text/javascript" src="js/vue.js"></script>
	<script type="text/javascript" src="js/index.js"></script>
	<script type="text/javascript" src="js/jq_ajax_config.js"></script>
	<script>
		var vmsy = new Vue({
			data: {
				backgroundcolor: '',
				textcolor: '',
				activetextcolor: '',
				activeIndex: '1',
				activeIndex2: '1',
				isCollapse: true,
				zhuti: '主题颜色(白色)',
				staff: {},
				qxkz: {}
			},
			mounted() {
				this.user();
			},
			methods: {
				handleSelect(key, keyPath) {
					let _this = this;
					if(key == 2) {
						$(".elaside").load("维修.html"); //ajax加载页面信息

					} else if(key == 1) {
						$(".elaside").load("公告.html"); //ajax加载页面信息
					} else if(key == 3) {
						$(".elaside").load("前台.html"); //ajax加载页面信息
					} else if(key == 4) {
						$(".elaside").load("客服.html"); //ajax加载页面信息
					} else if(key == 5) {
						$(".elaside").load("主数据.html"); //ajax加载页面信息
					} else if(key == 6) {
						$(".elaside").load("人事.html"); //ajax加载页面信息
					} else if(key == 8) {
						$(".elaside").load("操作.html"); //ajax加载页面信息
					}
				},
				handleOpen(key, keyPath) {
					console.log(key, keyPath);
				},
				handleClose(key, keyPath) {
					console.log(key, keyPath);
				},
				//跟换主题方法
				zti() {
					let _this = this;
					if(_this.zhuti == '主题颜色(白色)') {
						_this.zhuti = '主题颜色(黑色)';
						_this.backgroundcolor = '#1a1e1a';
						_this.textcolor = '#fff';
						_this.activetextcolor = '#ffd04b';
					vmwx.yansehei();
						vmqt.yansehei();
						vmkf.yansehei();
						vmsj.yansehei();
						vmcz.yansehei();
					} else if(_this.zhuti == '主题颜色(黑色)') {
						_this.zhuti = '主题颜色(白色)';
						_this.backgroundcolor = '';
						_this.textcolor = '';
						_this.activetextcolor = '';
					vmwx.yansebai();
						vmqt.yansebai();
						vmkf.yansebai();
						vmsj.yansebai();
						vmcz.yansebai();
					}
				},
				user() {
					let _this = this;
					/*查询用户*/
					$.ajax(`http://localhost:9999/api/show/denglu2`, {
						type: "post",
						dataType: "json",
						success(message) {
							if(message != null) {
								_this.staff = message;
								
								/*查询用户是否拥有此权限*/
//								alert(_this.staff.staffid);
								$.getJSON('http://127.0.0.1:9999/api/hl/selectByPrimaryKey/' + _this.staff.staffid + '', function(qxkz) {
									_this.qxkz = qxkz;
									
								});
							}
						}
					});
				}
			}
		}).$mount("#hlsy");
	</script>

</html>